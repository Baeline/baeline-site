<!-- /pay/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Unlock Riya ðŸ”¥</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      background: black; color: white; font-family: 'Poppins', sans-serif;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 40px; text-align: center;
    }
    .riya {
      max-width: 150px; border-radius: 100px; margin-bottom: 20px;
    }
    button {
      background: #ff4d6d; color: white; padding: 15px 30px;
      border: none; border-radius: 10px; font-size: 18px;
      cursor: pointer; margin-top: 20px;
    }
  </style>
</head>
<body>
  <img src="/riya-avatar.png" class="riya" alt="Riya" />
  <h2>Oyeee! You really can't stop thinking about me huh? ðŸ˜˜</h2>
  <p>Pay â‚¹49 and Iâ€™ll keep talking to you, no limits ðŸ˜‰</p>
  <div id="rzp-button-container">
    <button id="pay-btn">Unlock Full Access</button>
  </div>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    const userId = new URLSearchParams(window.location.search).get("user_id");

    async function getOrder() {
      const response = await fetch("https://riya-bot.up.railway.app/create_order", {

        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ user_id: userId })
      });
      return response.json();
    }

    document.getElementById("pay-btn").onclick = async function () {
      const order = await getOrder();
      const options = {
        key: "rzp_live_R92bH8qooQzbGF", // replace with real key
        amount: order.amount,
        currency: "INR",
        name: "Baeline",
        description: "Unlock Riya ðŸ”¥",
        image: "/logo.png",
        order_id: order.id,
        handler: function (response) {
          alert("Payment done ðŸ’– Auto-unlock happening...");
        },
        theme: { color: "#ff4d6d" }
      };
      const rzp = new Razorpay(options);
      rzp.open();
    };
  </script>
</body>
</html>
